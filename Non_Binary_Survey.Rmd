---
title: "Enquête sur le point de confort des personnes non-binaires"
author: "Maxence R. Ouafik"
date: "10/10/2020"
output: 
  bookdown::html_document2: default

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, widgetframe_widgets_dir = "./output")
library(scales)
```




```{r Data Preparation, message=FALSE, warning=FALSE, include=FALSE, paged.print=FALSE}

# En premier lieu : lire le fichier CSV généré par le Google Forms afin d'obtenir Survey_Data
source("./scripts/read_data.R", local = knitr::knit_global())

# Ensuite créer Survey_Data_AFAB à partir des données brutes. D'une part, les données sont transformées pour que chaque variable soit individualisées avec un 0 si la personne n'a pas coché la réponse et un 1, si la personne l'a cochée. 

source("./scripts/create_Survey_Data_AFAB.R", local = knitr::knit_global(), encoding = "UTF-8")

# Pareil pour les réponses des personnes NB AMAB

source("./scripts/create_Survey_Data_AMAB.R", local = knitr::knit_global(), encoding = "UTF-8")

#Ensuite, on crée un tableau résumant les réponses de la première question destinée aux personnes AFAB (nombre de personnes ayant répondu et pourcentage) Ce tableau nous servira à créer les graphiques. 

source("./scripts/create_AFAB_Conf_Sum.R", local = knitr::knit_global(), encoding = "UTF-8")

# Pareil pour la 2ème question

source("./scripts/create_AFAB_Inconf_Sum.R", local = knitr::knit_global(), encoding = "UTF-8")


```

La figure\@ref(fig:AFABConfPlot) montre les différentes réponses à la question des effets attendus d'une THS par les personnes non-binaires assignées femmes à la naissance. A l'heure actuelle, `r nrow(Survey_Data)` personnes ont répondu dont `r nrow(Survey_Data_AFAB)` (`r label_percent()((nrow(Survey_Data_AFAB)/nrow(Survey_Data)))`) personnes non-binaires assignées femmes à la naissance (AFAB) et `r nrow(Survey_Data_AMAB)` (`r label_percent()((nrow(Survey_Data_AMAB)/nrow(Survey_Data)))`) personnes non-binaires assignées hommes à la naissance (AMAB). 





```{r AFABConfPlot, echo=FALSE}

source("./scripts/create_AFAB_Conf_Plotly.R", local = knitr::knit_global(), encoding = "UTF-8")
```






```{r AFABInconfPlot, fig.cap = "Effets indésirables d'une THS pour les personnes NB AFAB", echo=FALSE}

source("./scripts/create_AFAB_Inconf_Plotly.R", local = knitr::knit_global(), encoding = "UTF-8")


```





  <figure><iframe src= "https://asrahal.github.io/Non_Binary_Survey/output/afab-conf.html" width="100%" height="600" <="" iframe"=""></iframe></figure>
</div>


  <figure><iframe src= "https://asrahal.github.io/Non_Binary_Survey/output/afab-inconf.html" width="100%" height="600" <="" iframe"=""></iframe></figure>



```{r eval=FALSE, include=FALSE}

source("./scripts/edit_WP_post.R", local = knitr::knit_global(), encoding = "UTF-8")
```


